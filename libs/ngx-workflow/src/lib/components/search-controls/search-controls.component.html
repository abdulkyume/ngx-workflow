<div class="ngx-workflow-search-controls">
    <div class="search-container">
        <!-- Search Icon -->
        <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>

        <!-- Search Input -->
        <input type="text" class="search-input" [(ngModel)]="searchQuery" (ngModelChange)="onSearchChange()"
            (keydown)="onKeyDown($event)" placeholder="Search nodes..." autofocus>

        <!-- Clear Button -->
        <button *ngIf="searchQuery" class="btn-clear" (click)="onClear()" title="Clear search">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>

        <!-- Result Counter -->
        <div class="result-counter" *ngIf="searchQuery">
            <span class="result-text">{{ resultText }}</span>
        </div>

        <!-- Navigation Buttons -->
        <div class="nav-buttons" *ngIf="searchState.totalResults > 0">
            <button class="btn-nav" (click)="onPrevious()" title="Previous result (Shift+Enter)">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="18 15 12 9 6 15"></polyline>
                </svg>
            </button>
            <button class="btn-nav" (click)="onNext()" title="Next result (Enter)">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
            </button>
        </div>

        <!-- Close Button -->
        <button class="btn-close" (click)="onClose()" title="Close search (Escape)">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>
    </div>
</div>